<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax:{inlineMath:[['\$','\$'],['\\(','\\)']],processEscapes:true},CommonHTML: {matchFontHeight:false}});</script>
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>


# プログラミング競技について

## 問題文
複数の「マインスイーパー」の盤面データが与えられます。各盤面データについて地雷がありそうなセルを予測しながら、地雷以外の全部のセルを選択することを目指します。以下の「ルール」に従って、可能な限り多くのセルを選択し、高いスコアを目指して下さい。

## サンプル盤面
「マインスイーパー」の遊び方イメージを以下のサイトで体感することができます。今回のコンテストの出題形式に似せて事務局で作成したもので、盤面の様子や進行方法などはオリジナルとは異なっています。スマートフォンからもアクセスできます。
- **[「マインスイーパー」をお試し実行できるページ](msprog/mssample.html)**

## 操作方法
1. **「ボード選択」** からボードを選びます。サンプルボードをいくつかご用意しています。盤面のテキストファイルを作成すればファイルから読み込むことも可能です。
2. **「盤面データ表示切替」** をトグルすると盤面データの参照ができます。
3. 盤面データには「０」から「９」までの数字が含まれています。「０」から「８」までの「数字」は **隣接する８個のセルに含まれる地雷の数** を表します。地雷が周囲に存在しない場合、盤面データは空白ではなく「０」となってます。
4. 盤面データ「９」が含まれるセルは **地雷が置かれた状態** を示します。周囲の地雷の数ではありません。
5. 盤面のセル座標 (X,Y) は横方向 X、縦方向 Y で、左上が (0,0)、右下に向かって座標が１つずつ増えます。
6. セルをひとつずつ選択していきます。地雷以外の **未選択セル** がなくなれば終了です。スコアが表示されます。
7. 盤面データ「０」のセルを選択した場合は、周囲に地雷は存在しないため、地雷に近くなるまで再帰的に周囲のセルが選択されます。
8. 地雷を除く未選択のセル数が **「残りセル数」** に表示されます。
9. 地雷がありそうな場所に **旗を立てて** 選択できないようにすることができます。**「旗を立てる」** を ON にしてから当該セルを選択します。旗を解除するには再度「旗を立てる」を ON にして当該セルを選択します。旗が無くなればセル選択が可能になります。
10. 旗が立っているセルは選択できなくなりますが、周囲に「０」のセルがある場合は再帰的に選択されて旗が消えることがあります。
11. 途中で終了したい場合、一番下にある **「ここで採点」** をクリックすればスコアが表示されて終了となります。

## ルール・得点
- スコアは選択した盤面データの **数字の合計** です。ただし、次の場合はペナルティとして減算されます。
- 地雷を選択してしまった場合は **「２０」** の減点です。**地雷を選択しても終了にはなりません**。そのまま継続することができます。終了したい場合は **「ここで採点」** により明示的に終了可能です。
- 途中で終了した場合は、地雷を除く **全ての未選択セル分** が減点されます。
- 減点された結果、マイナスになった場合の **最終スコアは「０」** になります。
- 旗の有無はスコアには関係ありません。
- 与えられた盤面データを参照すれば、地雷の位置が容易に判明してしまいます。「マインスイーパー」を解くプログラムにおいては **地雷の位置は分からないものとして** 実装していただくようお願い致します。選択済みの領域から得られている情報を元に次の座標を列挙することは問題ありません。また、地雷を選択してしまった後に、その位置情報を利用することも問題ありません。
- 地雷を選択した場合の継続選択や未選択セルがある状態での途中終了は自由に決定できます。
- プログラムは **paiza 環境** で実行いただきます。paize 環境の仕様に従い、**実行時間の最大値は2秒** です。
- 開発いただくプログラムは **入力として盤面データ** を読み込み、**出力として選択したセルの座標リスト** を生成します。
- 複数の盤面が与えられます。2秒以内により多くの問題を解いていただき、他の参加者よりも **合計のスコアが高くなる** ことを目指して下さい。

